{# @var craft \craft\web\twig\variables\CraftVariable #}
{# @var entry \craft\elements\Entry #}
{# ======================================================
  @filename: image
  @author:   sam
  ====================================================== #}
{#
  Image in full width
#}
{% import "_partials/_macros.twig" as macro %}

{% set image = image is defined ? image : '' %}
{% set format = format is defined ? format : 'normal' %}

{% if image | length %}
  {% set transforms =
    [
      {
        'media': 'min-width: 1440px',
        'sizes': [
        {width: 1440, ratio: 1440/800}
      ],
      },
      {
        'media': 'min-width: 1024px',
        'sizes': [
        {width: 1024, ratio: 1024/600}
      ],
      },
      {
        'media': 'min-width: 768px',
        'sizes': [
        {width: 768, ratio: 768/400}
      ],
      },
      {
        'media': 'min-width: 425px',
        'sizes': [
        {width: 425, ratio: 425/300}
      ],
      },
      {
        'media': 'min-width: 375px',
        'sizes': [
        {width: 375, ratio: 375/300}
      ],
      },
      {
        'sizes': [
        {width: 320, ratio: 320/300}
      ],
      }
    ] %}

  {% switch format %}
  {% case 'normal' %}
    <div class="container">
      <div class="row">
        <div class="col-12 col-lg-10 offset-lg-1">
          {{ macro.renderPicture(image,transforms, true, image.title, 'c-image') }}
        </div>
      </div>
    </div>
  {% case 'full' %}
    {% set transforms =
      [
        {
          'media': 'min-width: 1440px',
          'sizes': [
          {width: 1440, ratio: 1440/400}
        ],
        },
        {
          'media': 'min-width: 1024px',
          'sizes': [
          {width: 1024, ratio: 1024/400}
        ],
        },
        {
          'media': 'min-width: 768px',
          'sizes': [
          {width: 768, ratio: 768/300}
        ],
        },
        {
          'media': 'min-width: 425px',
          'sizes': [
          {width: 425, ratio: 425/200}
        ],
        },
        {
          'media': 'min-width: 375px',
          'sizes': [
          {width: 375, ratio: 375/200}
        ],
        },
        {
          'sizes': [
          {width: 320, ratio: 320/200}
        ],
        }
      ] %}

    <div class="w-100">
      {{ macro.renderPicture(image,transforms, true, image.title, 'c-image') }}
    </div>
  {% default %}
    <div class="container">
      <div class="row">
        <div class="col-12 col-lg-10 offset-lg-1">
          {{ macro.renderPicture(image,transforms, true, image.title, 'c-image') }}
        </div>
      </div>
    </div>
  {% endswitch %}
{% endif %}
